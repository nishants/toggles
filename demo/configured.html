<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>toggles demo</title>
    <script src="../support/angular1.5.8.min.js"></script>
    <script src="bower_components/toggles/lib/toggles.js"></script>
</head>

<body ng-app="feature-toggle" ng-controller="root">

<h3>Environment : <span ng-bind="toggles.features.env"></span></h3>
<hr>
<div>
    <div feature="feature-one-name">
        <h1>Feature One</h1>
    </div>

    <div feature="feature-two-name">
        <h1>Feature Two</h1>
    </div>
</div>


<script>
    var app = angular.module("feature-toggle", ["toggles"]);

    app.run(['$http', 'toggles', function ($http, toggles) {
        toggles.init($http.get("config/features.json").then(function(response){
            return response.data;
        }));
    }]);

    app.controller("root", ["$scope", "toggles", function ($scope, toggles) {
        toggles.getConfig().then(function (features) {
            $scope.toggles = {features: features};
        });
    }]);

</script>
</body>
</html>